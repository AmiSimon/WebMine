<button hx-post="/console/start" hx-swap="none" class="btn btn-success"><i class="bi bi-power"></i>START SERVER</button>
<button hx-post="/console/restart" hx-swap="none" class="btn btn-primary"><i class="bi bi-arrow-repeat"></i>Restart Server</button>
<button hx-post="/console/stop" hx-swap="none" class="btn btn-error" ><i class="bi bi-app"></i>STOP SERVER</button>

<div hx-ext="ws" ws-connect="/console/ws">
    <div class="mockup-code w-full" id="console">
    </div>
    <form ws-send id="console-input" hx-on::submit="setTimeout(() => this.reset(), 10)">
            <input type="text" name="command" placeholder="Enter Minecraft command" class="input input-md w-full">
    </form>                         
</div>
<script>
    document.body.addEventListener('htmx:wsAfterMessage', function(event) {
        const consoleDiv = document.getElementById('console');
        const pre = document.createElement('pre');
        const code = document.createElement('code');
        code.textContent = event.detail.message;
        pre.appendChild(code);
        consoleDiv.appendChild(pre);
        consoleDiv.scrollTop = consoleDiv.scrollHeight;
    });
</script>
